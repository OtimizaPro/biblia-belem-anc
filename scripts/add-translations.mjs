#!/usr/bin/env node
/**
 * Adiciona traduções ao glossário grego
 */

import { readFileSync, writeFileSync } from 'fs';
import { join, dirname } from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);
const projectRoot = join(__dirname, '..');

const glossaryPath = join(projectRoot, 'glossary', 'greek.json');
const glossary = JSON.parse(readFileSync(glossaryPath, 'utf-8'));

// Traduções literais das palavras gregas do Apocalipse
const newTranslations = {
  'ἐμαρτύρησεν': 'testemunhou',
  'ἀναγινώσκων': 'lendo',
  'ἀκούοντες': 'ouvindo',
  'τηροῦντες': 'guardando',
  'γεγραμμένα': 'escritas',
  'καιρὸς': 'tempo',
  'ἐγγύς': 'perto',
  'Ἰωάνης': 'João',
  'Ἀσίᾳ': 'Ásia',
  'ἄρχων': 'governante',
  'Πατρὶ': 'Pai',
  'νεφελῶν': 'nuvens',
  'ὄψεται': 'verá',
  'ὀφθαλμὸς': 'olho',
  'ἐξεκέντησαν': 'traspassaram',
  'κόψονται': 'lamentarão',
  'πᾶσαι': 'todas',
  'φυλαὶ': 'tribos',
  'ναί': 'sim',
  'ἀδελφὸς': 'irmão',
  'συνκοινωνὸς': 'co-participante',
  'θλίψει': 'tribulação',
  'βασιλείᾳ': 'reino',
  'ὑπομονῇ': 'perseverança',
  'νήσῳ': 'ilha',
  'καλουμένῃ': 'chamada',
  'Πάτμῳ': 'Patmos',
  'Πνεύματι': 'Espírito',
  'κυριακῇ': 'do-Senhor',
  'ἡμέρᾳ': 'dia',
  'ὀπίσω': 'atrás',
  'σάλπιγγος': 'trombeta',
  'βλέπεις': 'vês',
  'πέμψον': 'envia',
  'Σμύρναν': 'Esmirna',
  'Πέργαμον': 'Pérgamo',
  'Θυάτειρα': 'Tiatira',
  'Σάρδεις': 'Sardes',
  'Φιλαδελφίαν': 'Filadélfia',
  'Λαοδικίαν': 'Laodiceia',
  'ἐπέστρεψα': 'virei',
  'βλέπειν': 'ver',
  'ἐλάλει': 'falava',
  'ἐπιστρέψας': 'tendo-virado',
  'λυχνίας': 'candelabros',
  'ἐνδεδυμένον': 'vestido',
  'ποδήρη': 'até-os-pés',
  'περιεζωσμένον': 'cingido',
  'μαστοῖς': 'peitos',
  'ζώνην': 'cinto',
  'κεφαλὴ': 'cabeça',
  'τρίχες': 'cabelos',
  'λευκαὶ': 'brancas',
  'ἔριον': 'lã',
  'λευκόν': 'branco',
  'χιών': 'neve',
  'ὀφθαλμοὶ': 'olhos',
  'φλὸξ': 'chama',
  'πόδες': 'pés',
  'χαλκολιβάνῳ': 'bronze-polido',
  'καμίνῳ': 'fornalha',
  'πεπυρωμένης': 'ardente',
  'δεξιᾷ': 'direita',
  'ῥομφαία': 'espada',
  'δίστομος': 'de-dois-gumes',
  'ὀξεῖα': 'afiada',
  'ἐκπορευομένη': 'saindo',
  'ὄψις': 'aparência',
  'φαίνει': 'brilha',
  'δυνάμει': 'poder',
  'αὐτόν': 'ele',
  'ἔπεσα': 'caí',
  'πόδας': 'pés',
  'ἔθηκεν': 'colocou',
  'δεξιὰν': 'direita',
  'ἐμὲ': 'mim',
  'φοβοῦ': 'temas',
  'Ζῶν': 'Vivente',
  'νεκρὸς': 'morto',
  'ζῶν': 'vivendo',
  'κλεῖς': 'chaves',
  'Ἅιδου': 'Hades',
  'μέλλει': 'está-para',
  'μυστήριον': 'mistério',
  'δεξιᾶς': 'direita',
  'ἀστέρες': 'estrelas',
  'λυχνίαι': 'candelabros',
  'ἐκκλησίαι': 'assembleias',
  'κόπον': 'trabalho',
  'ὑπομονήν': 'perseverança',
  'δύνῃ': 'podes',
  'βαστάσαι': 'suportar',
  'κακούς': 'maus',
  'ἐπείρασας': 'provaste',
  'λέγοντας': 'dizendo',
  'ἑαυτοὺς': 'a-si-mesmos',
  'ἀποστόλους': 'apóstolos',
  'ἐβάστασας': 'suportaste',
  'κεκοπίακες': 'te-cansaste',
  'μνημόνευε': 'lembra',
  'πόθεν': 'de-onde',
  'πέπτωκες': 'caíste',
  'μετανόησον': 'arrepende-te',
  'ποίησον': 'faz',
  'ἔρχομαί': 'venho',
  'κινήσω': 'moverei',
  'λυχνίαν': 'candelabro',
  'τόπου': 'lugar',
  'μετανοήσῃς': 'te-arrependas',
  'μισεῖς': 'odeias',
  'Νικολαϊτῶν': 'nicolaítas',
  'κἀγὼ': 'eu-também',
  'μισῶ': 'odeio',
  'νικῶντι': 'vencendo',
  'φαγεῖν': 'comer',
  'ξύλου': 'árvore',
  'Παραδείσῳ': 'Paraíso',
  'Σμύρνῃ': 'Esmirna',
  'ἔζησεν': 'viveu',
  'θλῖψιν': 'tribulação',
  'πτωχείαν': 'pobreza',
  'πλούσιος': 'rico',
  'βλασφημίαν': 'blasfêmia',
  'λεγόντων': 'dizendo',
  'Ἰουδαίους': 'judeus',
  'ἑαυτούς': 'a-si-mesmos',
  'συναγωγὴ': 'sinagoga',
  'Σατανᾶ': 'Satanás',
  'μέλλεις': 'estás-para',
  'πάσχειν': 'sofrer',
  'βάλλειν': 'lançar',
  'διάβολος': 'diabo',
  'φυλακὴν': 'prisão',
  'πειρασθῆτε': 'sejais-provados',
  'ἕξετε': 'tereis',
  'ἡμερῶν': 'dias',
  'γίνου': 'sê',
  'στέφανον': 'coroa',
  'ἀδικηθῇ': 'seja-prejudicado',
  'δευτέρου': 'segunda',
  'Περγάμῳ': 'Pérgamo',
  'ῥομφαίαν': 'espada',
  'δίστομον': 'de-dois-gumes',
  'ὀξεῖαν': 'afiada',
  'κατοικεῖς': 'habitas',
  'κρατεῖς': 'manténs',
  'ἠρνήσω': 'negaste',
  'ἡμέραις': 'dias',
  'Ἀντιπᾶς': 'Antipas',
  'ἀπεκτάνθη': 'foi-morto',
  'Σατανᾶς': 'Satanás',
  'κατοικεῖ': 'habita',
  'ὀλίγα': 'poucas-coisas',
  'κρατοῦντας': 'segurando',
  'διδαχὴν': 'ensino',
  'Βαλαάμ': 'Balaão',
  'ἐδίδασκεν': 'ensinava',
  'Βαλὰκ': 'Balaque',
  'βαλεῖν': 'lançar',
  'σκάνδαλον': 'tropeço',
  'υἱῶν': 'filhos',
  'Ἰσραήλ': 'Israel',
  'εἰδωλόθυτα': 'coisas-sacrificadas-a-ídolos',
  'πορνεῦσαι': 'fornicar',
  'ὁμοίως': 'semelhantemente',
  'πολεμήσω': 'guerrearei',
  'ῥομφαίᾳ': 'espada',
  'στόματός': 'boca',
  'μάννα': 'maná',
  'κεκρυμμένου': 'escondido',
  'λευκήν': 'branca',
  'καινὸν': 'novo',
  'λαμβάνων': 'recebendo',
  'Θυατείροις': 'Tiatira',
  'ὀφθαλμοὺς': 'olhos',
  'φλόγα': 'chama',
  'διακονίαν': 'serviço',
  'ἔσχατα': 'últimas',
  'πλείονα': 'maiores',
  'ἀφεῖς': 'permites',
  'Ἰεζάβελ': 'Jezabel',
  'λέγουσα': 'dizendo',
  'ἑαυτὴν': 'a-si-mesma',
  'προφῆτιν': 'profetisa',
  'διδάσκει': 'ensina',
  'πλανᾷ': 'engana',
  'ἐμοὺς': 'meus',
  'δούλους': 'servos',
  'ἔδωκα': 'dei',
  'χρόνον': 'tempo',
  'μετανοήσῃ': 'se-arrependa',
  'μετανοῆσαι': 'arrepender-se',
  'βάλλω': 'lanço',
  'κλίνην': 'cama',
  'μοιχεύοντας': 'cometendo-adultério',
  'μετανοήσουσιν': 'se-arrependerão',
  'τέκνα': 'filhos',
  'ἀποκτενῶ': 'matarei',
  'θανάτῳ': 'morte',
  'γνώσονται': 'conhecerão'
};

let added = 0;
for (const [word, trans] of Object.entries(newTranslations)) {
  if (!glossary[word]) {
    glossary[word] = { translation: trans, source: 'claude-code-max' };
    added++;
  }
}

writeFileSync(glossaryPath, JSON.stringify(glossary, null, 2), 'utf-8');
console.log(`Glossário atualizado: ${added} novas entradas`);
console.log(`Total no glossário: ${Object.keys(glossary).length}`);
